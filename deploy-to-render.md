# Deploy Link Bus Ticket System to Render (Free Tier)

## Prerequisites
- GitHub repository with your code
- Render account (free)

## Step-by-Step Deployment

### 1. Prepare Your Repository

Make sure your repository includes the following files:
- `render.yaml` (configuration file)
- Updated `package.json` with `postinstall` script
- API configuration in `client/src/config/api.ts`

### 2. Push to GitHub

```bash
git add .
git commit -m "Prepare for Render deployment"
git push origin main
```

### 3. Deploy to Render

#### Option A: Using Blueprint (Recommended)
1. Go to [Render Dashboard](https://dashboard.render.com/)
2. Click "New +" → "Blueprint"
3. Connect your GitHub repository
4. Select the repository containing your Link Bus System
5. Name your blueprint: `link-bus-system`
6. Click "Apply"

#### Option B: Manual Setup
1. **Create Database First:**
   - Go to Render Dashboard
   - Click "New +" → "PostgreSQL"
   - Name: `link-bus-db`
   - Plan: Free
   - Click "Create Database"

2. **Create Web Service:**
   - Click "New +" → "Web Service"
   - Connect GitHub repository
   - Configure:
     - Name: `link-bus-system`
     - Environment: `Node`
     - Build Command: `npm install && npm run build`
     - Start Command: `npm start`
     - Plan: Free

3. **Set Environment Variables:**
   - `NODE_ENV`: `production`
   - `PORT`: `10000`
   - `DATABASE_URL`: Link to your PostgreSQL database
   - `JWT_SECRET`: Generate a random string
   - `SESSION_SECRET`: Generate a random string

### 4. Database Setup

Once deployed, you'll need to run migrations:

1. Go to your web service dashboard
2. Click "Shell" tab
3. Run database migrations:
   ```bash
   npm run db:push
   ```

4. (Optional) Seed the database:
   ```bash
   npm run seed
   ```

### 5. Test Your Deployment

1. Visit your deployed URL (provided by Render)
2. Test the following:
   - Homepage loads correctly
   - User registration works
   - Trip search functionality
   - Admin login (if seeded)

### 6. Custom Domain (Optional)

1. Go to your web service settings
2. Add your custom domain
3. Update DNS records as instructed

## Important Notes

### Free Tier Limitations
- **Database**: 1GB storage, 1 month retention
- **Web Service**: 512MB RAM, sleeps after 15 minutes of inactivity
- **Bandwidth**: 100GB/month
- **Build minutes**: 500 minutes/month

### Performance Tips
- Service may take 10-30 seconds to wake up from sleep
- Consider upgrading to paid plan for production use
- Monitor usage in Render dashboard

### Environment Variables Needed
```
NODE_ENV=production
PORT=10000
DATABASE_URL=postgresql://[generated by Render]
JWT_SECRET=[generate random string]
SESSION_SECRET=[generate random string]
```

### Troubleshooting

1. **Build Fails**: Check build logs in Render dashboard
2. **Database Connection**: Verify DATABASE_URL is correct
3. **API Errors**: Check service logs for errors
4. **Frontend Issues**: Ensure API URLs are configured correctly

### Security Recommendations
- Use strong JWT and session secrets
- Enable HTTPS (automatic with Render)
- Monitor logs for suspicious activity
- Consider rate limiting for production

## Post-Deployment

1. **Monitor Performance**: Check Render dashboard for metrics
2. **Set up Alerts**: Configure notifications for downtime
3. **Backup Strategy**: Export database regularly
4. **SSL Certificate**: Verify HTTPS is working

Your Link Bus Ticket System should now be live and accessible via the Render-provided URL! 